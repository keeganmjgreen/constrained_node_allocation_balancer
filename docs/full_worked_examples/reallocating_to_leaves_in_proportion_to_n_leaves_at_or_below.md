Allocated min(ancestral_budgets) = 1.0 to leaf 1.1

```mermaid
flowchart TD
    1["<b>1</b><br>1.000<br><code>|█.........</code>"]
    1.1["<b>1.1</b><br>1.000 / 1.000<br><code>|█|........</code>"]
    1.2["<b>1.2</b><br>0.000<br><code>|..........</code>"]
    1.2.1["<b>1.2.1</b><br>0.000 / 2.000<br><code>|..|.......</code>"]
    1.3["<b>1.3</b><br>0.000<br><code>|..........</code>"]
    1.3.1["<b>1.3.1</b><br>0.000 / 3.000<br><code>|...|......</code>"]
    1.3.2["<b>1.3.2</b><br>0.000 / 4.000<br><code>|....|.....</code>"]
    1 --> 1.1
    1 --> 1.2
    1.2 --> 1.2.1
    1 --> 1.3
    1.3 --> 1.3.1
    1.3 --> 1.3.2
```

Allocated min(ancestral_budgets) = 2.0 to leaf 1.2.1

```mermaid
flowchart TD
    1["<b>1</b><br>3.000<br><code>|███.......</code>"]
    1.1["<b>1.1</b><br>1.000 / 1.000<br><code>|█|........</code>"]
    1.2["<b>1.2</b><br>2.000<br><code>|██........</code>"]
    1.2.1["<b>1.2.1</b><br>2.000 / 2.000<br><code>|██|.......</code>"]
    1.3["<b>1.3</b><br>0.000<br><code>|..........</code>"]
    1.3.1["<b>1.3.1</b><br>0.000 / 3.000<br><code>|...|......</code>"]
    1.3.2["<b>1.3.2</b><br>0.000 / 4.000<br><code>|....|.....</code>"]
    1 --> 1.1
    1 --> 1.2
    1.2 --> 1.2.1
    1 --> 1.3
    1.3 --> 1.3.1
    1.3 --> 1.3.2
```

Allocated min(ancestral_budgets) = 3.0 to leaf 1.3.1

```mermaid
flowchart TD
    1["<b>1</b><br>6.000<br><code>|██████....</code>"]
    1.1["<b>1.1</b><br>1.000 / 1.000<br><code>|█|........</code>"]
    1.2["<b>1.2</b><br>2.000<br><code>|██........</code>"]
    1.2.1["<b>1.2.1</b><br>2.000 / 2.000<br><code>|██|.......</code>"]
    1.3["<b>1.3</b><br>3.000<br><code>|███.......</code>"]
    1.3.1["<b>1.3.1</b><br>3.000 / 3.000<br><code>|███|......</code>"]
    1.3.2["<b>1.3.2</b><br>0.000 / 4.000<br><code>|....|.....</code>"]
    1 --> 1.1
    1 --> 1.2
    1.2 --> 1.2.1
    1 --> 1.3
    1.3 --> 1.3.1
    1.3 --> 1.3.2
```

Allocated min(ancestral_budgets) = 4.0 to leaf 1.3.2

```mermaid
flowchart TD
    1["<b>1</b><br>10.000<br><code>|██████████</code>"]
    1.1["<b>1.1</b><br>1.000 / 1.000<br><code>|█|........</code>"]
    1.2["<b>1.2</b><br>2.000<br><code>|██........</code>"]
    1.2.1["<b>1.2.1</b><br>2.000 / 2.000<br><code>|██|.......</code>"]
    1.3["<b>1.3</b><br>7.000<br><code>|███████...</code>"]
    1.3.1["<b>1.3.1</b><br>3.000 / 3.000<br><code>|███|......</code>"]
    1.3.2["<b>1.3.2</b><br>4.000 / 4.000<br><code>|████|.....</code>"]
    1 --> 1.1
    1 --> 1.2
    1.2 --> 1.2.1
    1 --> 1.3
    1.3 --> 1.3.1
    1.3 --> 1.3.2
```

Cleared allocations from all non-root nodes

```mermaid
flowchart TD
    1["<b>1</b><br>10.000<br><code>|██████████</code>"]
    1.1["<b>1.1</b><br>0.000 / 1.000<br><code>|.|........</code>"]
    1.2["<b>1.2</b><br>0.000<br><code>|..........</code>"]
    1.2.1["<b>1.2.1</b><br>0.000 / 2.000<br><code>|..|.......</code>"]
    1.3["<b>1.3</b><br>0.000<br><code>|..........</code>"]
    1.3.1["<b>1.3.1</b><br>0.000 / 3.000<br><code>|...|......</code>"]
    1.3.2["<b>1.3.2</b><br>0.000 / 4.000<br><code>|....|.....</code>"]
    1 --> 1.1
    1 --> 1.2
    1.2 --> 1.2.1
    1 --> 1.3
    1.3 --> 1.3.1
    1.3 --> 1.3.2
```

Set limit of node 1.2 to the sum of its children's limits 2

```mermaid
flowchart TD
    1["<b>1</b><br>10.000<br><code>|██████████</code>"]
    1.1["<b>1.1</b><br>0.000 / 1.000<br><code>|.|........</code>"]
    1.2["<b>1.2</b><br>0.000 / 2.000<br><code>|..|.......</code>"]
    1.2.1["<b>1.2.1</b><br>0.000 / 2.000<br><code>|..|.......</code>"]
    1.3["<b>1.3</b><br>0.000<br><code>|..........</code>"]
    1.3.1["<b>1.3.1</b><br>0.000 / 3.000<br><code>|...|......</code>"]
    1.3.2["<b>1.3.2</b><br>0.000 / 4.000<br><code>|....|.....</code>"]
    1 --> 1.1
    1 --> 1.2
    1.2 --> 1.2.1
    1 --> 1.3
    1.3 --> 1.3.1
    1.3 --> 1.3.2
```

Set limit of node 1.3 to the sum of its children's limits 7

```mermaid
flowchart TD
    1["<b>1</b><br>10.000<br><code>|██████████</code>"]
    1.1["<b>1.1</b><br>0.000 / 1.000<br><code>|.|........</code>"]
    1.2["<b>1.2</b><br>0.000 / 2.000<br><code>|..|.......</code>"]
    1.2.1["<b>1.2.1</b><br>0.000 / 2.000<br><code>|..|.......</code>"]
    1.3["<b>1.3</b><br>0.000 / 7.000<br><code>|.......|..</code>"]
    1.3.1["<b>1.3.1</b><br>0.000 / 3.000<br><code>|...|......</code>"]
    1.3.2["<b>1.3.2</b><br>0.000 / 4.000<br><code>|....|.....</code>"]
    1 --> 1.1
    1 --> 1.2
    1.2 --> 1.2.1
    1 --> 1.3
    1.3 --> 1.3.1
    1.3 --> 1.3.2
```

Distributed 10.0 from node 1 to children ['1.1', '1.2', '1.3']

```mermaid
flowchart TD
    1["<b>1</b><br>10.000<br><code>|██████████</code>"]
    1.1["<b>1.1</b><br>2.500 / 1.000<br><code>|█|▌.......</code>"]
    1.2["<b>1.2</b><br>2.500 / 2.000<br><code>|██|.......</code>"]
    1.2.1["<b>1.2.1</b><br>0.000 / 2.000<br><code>|..|.......</code>"]
    1.3["<b>1.3</b><br>5.000 / 7.000<br><code>|█████..|..</code>"]
    1.3.1["<b>1.3.1</b><br>0.000 / 3.000<br><code>|...|......</code>"]
    1.3.2["<b>1.3.2</b><br>0.000 / 4.000<br><code>|....|.....</code>"]
    1 --> 1.1
    1 --> 1.2
    1.2 --> 1.2.1
    1 --> 1.3
    1.3 --> 1.3.1
    1.3 --> 1.3.2
```

Redistributed 1.5 from node 1.1 to siblings with headroom ['1.3']

```mermaid
flowchart TD
    1["<b>1</b><br>10.000<br><code>|██████████</code>"]
    1.1["<b>1.1</b><br>1.000 / 1.000<br><code>|█|........</code>"]
    1.2["<b>1.2</b><br>2.500 / 2.000<br><code>|██|.......</code>"]
    1.2.1["<b>1.2.1</b><br>0.000 / 2.000<br><code>|..|.......</code>"]
    1.3["<b>1.3</b><br>6.500 / 7.000<br><code>|██████▌|..</code>"]
    1.3.1["<b>1.3.1</b><br>0.000 / 3.000<br><code>|...|......</code>"]
    1.3.2["<b>1.3.2</b><br>0.000 / 4.000<br><code>|....|.....</code>"]
    1 --> 1.1
    1 --> 1.2
    1.2 --> 1.2.1
    1 --> 1.3
    1.3 --> 1.3.1
    1.3 --> 1.3.2
```

Redistributed 0.5 from node 1.2 to siblings with headroom ['1.3']

```mermaid
flowchart TD
    1["<b>1</b><br>10.000<br><code>|██████████</code>"]
    1.1["<b>1.1</b><br>1.000 / 1.000<br><code>|█|........</code>"]
    1.2["<b>1.2</b><br>2.000 / 2.000<br><code>|██|.......</code>"]
    1.2.1["<b>1.2.1</b><br>0.000 / 2.000<br><code>|..|.......</code>"]
    1.3["<b>1.3</b><br>7.000 / 7.000<br><code>|███████|..</code>"]
    1.3.1["<b>1.3.1</b><br>0.000 / 3.000<br><code>|...|......</code>"]
    1.3.2["<b>1.3.2</b><br>0.000 / 4.000<br><code>|....|.....</code>"]
    1 --> 1.1
    1 --> 1.2
    1.2 --> 1.2.1
    1 --> 1.3
    1.3 --> 1.3.1
    1.3 --> 1.3.2
```

Distributed 2.0 from node 1.2 to children ['1.2.1']

```mermaid
flowchart TD
    1["<b>1</b><br>10.000<br><code>|██████████</code>"]
    1.1["<b>1.1</b><br>1.000 / 1.000<br><code>|█|........</code>"]
    1.2["<b>1.2</b><br>2.000 / 2.000<br><code>|██|.......</code>"]
    1.2.1["<b>1.2.1</b><br>2.000 / 2.000<br><code>|██|.......</code>"]
    1.3["<b>1.3</b><br>7.000 / 7.000<br><code>|███████|..</code>"]
    1.3.1["<b>1.3.1</b><br>0.000 / 3.000<br><code>|...|......</code>"]
    1.3.2["<b>1.3.2</b><br>0.000 / 4.000<br><code>|....|.....</code>"]
    1 --> 1.1
    1 --> 1.2
    1.2 --> 1.2.1
    1 --> 1.3
    1.3 --> 1.3.1
    1.3 --> 1.3.2
```

Distributed 7.0 from node 1.3 to children ['1.3.1', '1.3.2']

```mermaid
flowchart TD
    1["<b>1</b><br>10.000<br><code>|██████████</code>"]
    1.1["<b>1.1</b><br>1.000 / 1.000<br><code>|█|........</code>"]
    1.2["<b>1.2</b><br>2.000 / 2.000<br><code>|██|.......</code>"]
    1.2.1["<b>1.2.1</b><br>2.000 / 2.000<br><code>|██|.......</code>"]
    1.3["<b>1.3</b><br>7.000 / 7.000<br><code>|███████|..</code>"]
    1.3.1["<b>1.3.1</b><br>3.500 / 3.000<br><code>|███|......</code>"]
    1.3.2["<b>1.3.2</b><br>3.500 / 4.000<br><code>|███▌|.....</code>"]
    1 --> 1.1
    1 --> 1.2
    1.2 --> 1.2.1
    1 --> 1.3
    1.3 --> 1.3.1
    1.3 --> 1.3.2
```

Redistributed 0.5 from node 1.3.1 to siblings with headroom ['1.3.2']

```mermaid
flowchart TD
    1["<b>1</b><br>10.000<br><code>|██████████</code>"]
    1.1["<b>1.1</b><br>1.000 / 1.000<br><code>|█|........</code>"]
    1.2["<b>1.2</b><br>2.000 / 2.000<br><code>|██|.......</code>"]
    1.2.1["<b>1.2.1</b><br>2.000 / 2.000<br><code>|██|.......</code>"]
    1.3["<b>1.3</b><br>7.000 / 7.000<br><code>|███████|..</code>"]
    1.3.1["<b>1.3.1</b><br>3.000 / 3.000<br><code>|███|......</code>"]
    1.3.2["<b>1.3.2</b><br>4.000 / 4.000<br><code>|████|.....</code>"]
    1 --> 1.1
    1 --> 1.2
    1.2 --> 1.2.1
    1 --> 1.3
    1.3 --> 1.3.1
    1.3 --> 1.3.2
```

